# Mini Web 代码风格与开发规范

## 前端代码规范

### TypeScript/JavaScript

- 使用 TypeScript 进行类型安全开发
- 遵循 ESLint 配置的规则
- 代码风格基于标准 JavaScript 规范
- 使用箭头函数定义组件和处理函数
- 避免使用 `any` 类型，尽量提供明确的类型定义
- 对外部数据进行类型验证和转换

### React 组件开发

- 优先使用函数组件和 React Hooks
- 组件文件命名使用 PascalCase（如 UserProfile.tsx）
- 组件属性使用接口定义类型：`interface Props { ... }`
- 使用 React 19 新特性如 Actions 和资源预加载 API
- 组件文件结构遵循：导入 > 类型定义 > 组件定义 > 导出

### 文件组织

- 组件目录结构采用特性优先的组织方式
- 相关组件放在同一目录下
- 使用 index.ts 作为导出入口
- 公共组件放在 components 目录下
- 页面组件放在 pages 目录下
- 布局相关组件放在 layouts 目录下

### 样式规范

- CSS 类名使用 kebab-case（如 `user-avatar`）
- 避免内联样式，优先使用 CSS/SCSS 文件
- 组件样式文件与组件同名（如 `UserProfile.module.css`）
- 使用 Ant Design 的样式变量保持一致性

## 后端代码规范

### Go 语言规范

- 遵循官方 Go 代码风格（gofmt 格式化）
- 包名使用小写，不使用下划线
- 文件名使用下划线分隔（如 `user_service.go`）
- 变量和函数使用驼峰命名法（如 `userService`）
- 公开的函数、变量首字母大写，私有的首字母小写
- 使用简洁的错误处理模式

### 项目结构

- 使用 cmd 目录存放入口点
- 使用 internal 目录存放内部包
- 使用 pkg 目录存放可导出的包
- 按功能模块组织代码，而不是按技术层
- 避免循环依赖

### API 设计

- RESTful API 设计
- 使用 JSON 作为数据交换格式
- URL 使用小写和连字符（如 `/api/user-management`）
- API 版本控制（如 `/api/v1/users`）
- 统一错误响应格式

## 通用规范

### Git 提交规范

- 提交信息使用中文，清晰描述变更内容
- 提交前运行 lint 和格式化
- 避免提交编译产物和临时文件
- 功能分支使用特性名称（如 `feature/user-authentication`）
- 修复分支使用 `fix/` 前缀

### 代码注释

- 公共 API 和函数必须有文档注释
- 复杂逻辑需要添加详细注释
- 使用 TODO/FIXME 标记需要改进的代码
- TypeScript 接口和类型定义添加注释

### 测试规范

- 编写单元测试覆盖核心功能
- 测试文件与源文件同目录，以 `.test.ts` 或 `_test.go` 结尾
- 避免测试之间的依赖
- 使用 mock 隔离外部依赖

### 性能考虑

- 避免不必要的渲染和计算
- 大列表使用虚拟滚动
- 合理使用缓存减少请求
- 使用懒加载和代码分割
- 优化资源加载顺序

## 开发工作流

1. 从主分支创建特性分支
2. 开发功能并编写测试
3. 运行 lint 和测试确保代码质量
4. 提交代码并创建合并请求
5. 代码审查和讨论
6. 合并到主分支并部署